(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0c89":function(t,e,c){},"159b":function(t,e,c){var o=c("da84"),r=c("fdbc"),a=c("17c2"),n=c("9112");for(var i in r){var s=o[i],l=s&&s.prototype;if(l&&l.forEach!==a)try{n(l,"forEach",a)}catch(u){l.forEach=a}}},"17c2":function(t,e,c){"use strict";var o=c("b727").forEach,r=c("a640"),a=r("forEach");t.exports=a?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},"47af":function(t,e,c){"use strict";c("74ce")},"4de4":function(t,e,c){"use strict";var o=c("23e7"),r=c("b727").filter,a=c("1dde"),n=a("filter");o({target:"Array",proto:!0,forced:!n},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"74ce":function(t,e,c){},"8d2b":function(t,e,c){"use strict";c("fb6a");var o=c("7a23"),r=Object(o["withScopeId"])("data-v-e1214816");Object(o["pushScopeId"])("data-v-e1214816");var a={class:"sidebar"},n={class:"sidebar_group"},i=Object(o["createVNode"])("h2",null,"商品分類",-1),s={class:"product_category_list"},l=Object(o["createVNode"])("span",{class:"circle"},null,-1),u=Object(o["createVNode"])("span",{class:"name"},"全部商品",-1),d={class:"count"},p=Object(o["createVNode"])("span",{class:"circle"},null,-1),b={class:"name"},g={class:"count"},O={class:"sidebar_group"},f=Object(o["createVNode"])("h2",null,"最近瀏覽的商品",-1),j={class:"recent_product_list"},_={class:"single_recent_info"};Object(o["popScopeId"])();var h=r((function(t,e,c,h,y,v){var m=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])("div",n,[i,Object(o["createVNode"])("ul",s,[Object(o["createVNode"])("li",null,[Object(o["createVNode"])(m,{onClick:e[1]||(e[1]=function(t){return v.change_category("all")}),to:"/shop/all",class:{active:"all"===y.now_category}},{default:r((function(){return[l,u,Object(o["createVNode"])("span",d,Object(o["toDisplayString"])(y.product_list.length),1)]})),_:1},8,["class"])]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(v.category_list,(function(t,e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e},[Object(o["createVNode"])(m,{onClick:function(e){return v.change_category(t.category)},to:"/shop/".concat(t.category),class:{active:y.now_category===t.category}},{default:r((function(){return[p,Object(o["createVNode"])("span",b,Object(o["toDisplayString"])(t.category),1),Object(o["createVNode"])("span",g,Object(o["toDisplayString"])(t.count),1)]})),_:2},1032,["onClick","to","class"])])})),128))])]),Object(o["createVNode"])("div",O,[f,Object(o["createVNode"])("ul",j,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(y.recent_list.slice().reverse(),(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:t.id},[Object(o["createVNode"])(m,{class:"thumbnail",to:"/product/".concat(t.id),style:"background-image:url(".concat(t.img,")")},null,8,["to","style"]),Object(o["createVNode"])("div",_,[Object(o["createVNode"])(m,{class:"title",to:"/product/".concat(t.id)},{default:r((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.title),1)]})),_:2},1032,["to"]),Object(o["createVNode"])(m,{class:[{normal:t.price==t.origin_price},"origin_price"],to:"/product/".concat(t.id)},{default:r((function(){return[Object(o["createTextVNode"])("$ "+Object(o["toDisplayString"])(t.origin_price),1)]})),_:2},1032,["class","to"]),t.price!==t.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,class:"price",to:"/product/".concat(t.id)},{default:r((function(){return[Object(o["createTextVNode"])("$ "+Object(o["toDisplayString"])(t.price),1)]})),_:2},1032,["to"])):Object(o["createCommentVNode"])("",!0)])])})),128))])])])})),y=c("2909"),v=(c("99af"),c("a434"),c("159b"),c("4de4"),{props:{productsCategory:Array},emits:["emit-category"],data:function(){return{path:"seanlibra",url:"https://vue3-course-api.hexschool.io",product_list:[],recent_list:[],now_category:""}},methods:{getProducts_category:function(){var t=this;t.$store.commit("startLoading",!0),t.$http.get("".concat(t.url,"/api/").concat(t.path,"/products/all")).then((function(e){e.data.success?(t.product_list=e.data.products,t.$store.commit("startLoading",!1)):t.$store.commit("startLoading",!1)})).catch((function(){t.$store.commit("startLoading",!1)}))},change_category:function(t){this.$emit("emit-category",t),this.now_category=t},getRecent:function(){var t=JSON.parse(localStorage.getItem("be_product"))||[];t.length>5&&t.splice(0,1),this.recent_list=t}},computed:{current_category_product_list:function(){var t=Object(y["a"])(this.product_list),e=[],c=this.$route.params.category||"all";return"all"!==c?t.forEach((function(t){t.category===c&&e.push(t)})):e=t,e},category_list:function(){var t=Object(y["a"])(this.product_list),e=[],c=[],o=[];t.forEach((function(t){e.push(t.category)})),c=e.filter((function(t,c){return e.indexOf(t)===c}));for(var r=0;r<c.length;r++)o.push({category:c[r],count:0});return t.filter((function(t){for(var e=0;e<o.length;e++)t.category===o[e].category&&o[e].count++})),o}},created:function(){this.getProducts_category(),this.getRecent(),this.now_category=this.$route.params.category}});c("47af");v.render=h,v.__scopeId="data-v-e1214816";e["a"]=v},a640:function(t,e,c){"use strict";var o=c("d039");t.exports=function(t,e){var c=[][t];return!!c&&o((function(){c.call(null,e||function(){throw 1},1)}))}},af3d:function(t,e,c){"use strict";c("0c89")},dafc:function(t,e,c){"use strict";c.r(e);var o=c("7a23"),r=Object(o["withScopeId"])("data-v-78fcebaa");Object(o["pushScopeId"])("data-v-78fcebaa");var a={class:"shop"},n={class:"content container"},i={class:"product_list_group"},s={class:"product_list"},l={key:0,class:"ribbon ribbon-top-left"},u={class:"ribbon_content"},d={class:"ribbon_border"},p=Object(o["createVNode"])("div",{class:"product_overlay"},null,-1),b={class:"category"},g={class:"title"},O={class:"price"},f={key:0,class:"onsale_price"},j={key:0,class:"custom_pagination"},_={class:"prev"},h=Object(o["createVNode"])("span",{class:"material-icons"},"arrow_back_ios",-1),y={class:"next"},v=Object(o["createVNode"])("span",{class:"material-icons"},"arrow_forward_ios",-1);Object(o["popScopeId"])();var m=r((function(t,e,c,m,k,N){var V=Object(o["resolveComponent"])("Header"),B=Object(o["resolveComponent"])("Sidebar"),w=Object(o["resolveComponent"])("router-link"),C=Object(o["resolveComponent"])("Loading"),S=Object(o["resolveComponent"])("Footer"),$=Object(o["resolveComponent"])("Bubble");return Object(o["openBlock"])(),Object(o["createBlock"])("div",a,[Object(o["createVNode"])(V,{"text-dark":!0}),Object(o["createVNode"])("div",n,[Object(o["createVNode"])(B,{onEmitCategory:N.change_category},null,8,["onEmitCategory"]),Object(o["createVNode"])("div",i,[Object(o["createVNode"])("ul",s,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(N.product_page_list_result,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:t.product.id},[t.product.onsale?(Object(o["openBlock"])(),Object(o["createBlock"])("div",l,[Object(o["createVNode"])("span",u,[Object(o["createVNode"])("span",d,Object(o["toDisplayString"])(t.product.onsale),1)])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(w,{class:"product_thumbnail",to:"/product/".concat(t.product.id)},{default:r((function(){return[t.product.imagesUrl?(Object(o["openBlock"])(),Object(o["createBlock"])("img",{key:0,class:"on_hover",src:t.product.imagesUrl[0],alt:"商品圖片二"},null,8,["src"])):(Object(o["openBlock"])(),Object(o["createBlock"])("img",{key:1,class:"on_hover",src:t.product.imageUrl,alt:"商品圖片二"},null,8,["src"])),Object(o["createVNode"])("img",{class:"default",src:t.product.imageUrl,alt:"商品預設圖"},null,8,["src"]),p]})),_:2},1032,["to"]),Object(o["createVNode"])(w,{class:"product_info_link",to:"/product/".concat(t.product.id)},{default:r((function(){return[Object(o["createVNode"])("h4",b,Object(o["toDisplayString"])(t.product.category),1),Object(o["createVNode"])("h3",g,Object(o["toDisplayString"])(t.product.title),1),Object(o["createVNode"])("div",O,[Object(o["createVNode"])("span",{class:[{normal:t.product.price==t.product.origin_price},"origin_price"]},"$ "+Object(o["toDisplayString"])(t.product.origin_price),3),t.product.price!==t.product.origin_price?(Object(o["openBlock"])(),Object(o["createBlock"])("span",f,"$ "+Object(o["toDisplayString"])(t.product.price),1)):Object(o["createCommentVNode"])("",!0)])]})),_:2},1032,["to"])])})),128))]),1!==k.pagination.allPage?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",j,[Object(o["createVNode"])("li",_,[Object(o["createVNode"])("a",{class:{disabled:1===k.pagination.nowPage},onClick:e[1]||(e[1]=Object(o["withModifiers"])((function(t){return k.pagination.nowPage--}),["prevent"])),href:"#"},[h],2)]),(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(k.pagination.allPage,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:t},[Object(o["createVNode"])("a",{class:{active:t===k.pagination.nowPage},onClick:Object(o["withModifiers"])((function(e){return k.pagination.nowPage=t}),["prevent"]),href:"#"},Object(o["toDisplayString"])(t),11,["onClick"])])})),128)),Object(o["createVNode"])("li",y,[Object(o["createVNode"])("a",{class:{disabled:k.pagination.allPage===k.pagination.nowPage},onClick:e[2]||(e[2]=Object(o["withModifiers"])((function(t){return k.pagination.nowPage++}),["prevent"])),href:"#"},[v],2)])])):Object(o["createCommentVNode"])("",!0)])]),N.loading?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:0})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(S),Object(o["createVNode"])($,{ref:"bubble",bubbleText:k.bubbleText},null,8,["bubbleText"])])})),k=c("2909"),N=(c("99af"),c("fb6a"),c("159b"),c("4de4"),c("4651")),V=c("acd4"),B=c("8d2b"),w=c("3a5e"),C={data:function(){return{product_list:[],category_product_list:[],pagination:{allPage:0,nowPage:1},category:"",bubbleText:""}},methods:{getProducts:function(){var t=this;t.$store.commit("startLoading",!0),t.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("seanlibra","/products/all")).then((function(e){e.data.success?(t.product_list=e.data.products.slice().reverse(),t.current_category_product_list(t),t.$store.commit("startLoading",!1)):(t.bubbleText=e.data.message,t.$refs.bubble.bubbleACtive(),t.$store.commit("startLoading",!1))})).catch((function(){t.bubbleText="連線錯誤",t.$refs.bubble.bubbleACtive(),t.$store.commit("startLoading",!1)}))},current_category_product_list:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=Object(k["a"])(t.product_list);t.category_product_list=[];var c=t.category||"all";"all"!==c?e.forEach((function(e){e.category===c&&t.category_product_list.push(e)})):t.category_product_list=Object(k["a"])(t.product_list)},change_category:function(t){this.category=t,this.pagination.nowPage=1,this.current_category_product_list()}},computed:{loading:function(){return this.$store.state.isLoading},product_page_list_process:function(){for(var t=Object(k["a"])(this.category_product_list),e=[],c=0,o=0;o<t.length;o++)o%9===0&&c++,e.push({product:t[o],page:c});return e},product_page_list_result:function(){var t=Object(k["a"])(this.product_page_list_process),e=[],c=this;if(t.length>2)for(var o=0;o<t.length;o++)t[o].page===c.pagination.nowPage&&e.push(t[o]);return e},category_list:function(){var t=Object(k["a"])(this.product_list),e=[],c=[],o=[];t.forEach((function(t){e.push(t.category)})),c=e.filter((function(t,c){return e.indexOf(t)===c}));for(var r=0;r<c.length;r++)o.push({category:c[r],count:0});return t.filter((function(t){for(var e=0;e<o.length;e++)t.category===o[e].category&&o[e].count++})),o}},watch:{product_page_list_process:function(){this.pagination.allPage=this.product_page_list_process[this.product_page_list_process.length-1].page}},created:function(){this.getProducts(),this.category=this.$route.params.category},components:{Header:N["a"],Footer:V["a"],Sidebar:B["a"],Loading:w["a"]}};c("af3d");C.render=m,C.__scopeId="data-v-78fcebaa";e["default"]=C}}]);
//# sourceMappingURL=about.a34f82ab.js.map