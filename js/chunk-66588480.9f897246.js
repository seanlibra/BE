(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66588480"],{"0b3f":function(e,t,a){},"1b0c":function(e,t,a){"use strict";a("0b3f")},b7c8:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),o=Object(c["withScopeId"])("data-v-ab8c984a");Object(c["pushScopeId"])("data-v-ab8c984a");var r={class:"checkout"},l={class:"container wrapper"},s=Object(c["createStaticVNode"])('<ul class="time_line" data-v-ab8c984a><li class="step" data-v-ab8c984a><span class="circle" data-v-ab8c984a>1</span><span class="text" data-v-ab8c984a>確認訂單</span></li><li class="step active" data-v-ab8c984a><span class="circle" data-v-ab8c984a>2</span><span class="text" data-v-ab8c984a>填寫資料</span></li><li class="step" data-v-ab8c984a><span class="circle" data-v-ab8c984a>3</span><span class="text" data-v-ab8c984a>完成訂單</span></li></ul><h3 class="list_title" data-v-ab8c984a>填寫詳細資料</h3>',2),n={class:"content"},d={class:"client_info_block"},b={class:"mb-3"},i=Object(c["createVNode"])("label",{for:"name",class:"form-label"},[Object(c["createTextVNode"])("姓名"),Object(c["createVNode"])("span",{class:"text-danger"},"*")],-1),u={class:"mb-3"},m=Object(c["createVNode"])("label",{for:"email",class:"form-label"},[Object(c["createTextVNode"])("Email"),Object(c["createVNode"])("span",{class:"text-danger"},"*")],-1),p={class:"mb-3"},j=Object(c["createVNode"])("label",{for:"tel",class:"form-label"},[Object(c["createTextVNode"])("電話"),Object(c["createVNode"])("span",{class:"text-danger"},"*")],-1),O={class:"mb-3"},f=Object(c["createVNode"])("label",{for:"address",class:"form-label"},[Object(c["createTextVNode"])("地址"),Object(c["createVNode"])("span",{class:"text-danger"},"*")],-1),V={class:"mb-3"},N=Object(c["createVNode"])("label",{for:"message",class:"form-label"},"訊息",-1),v=Object(c["createVNode"])("div",{class:"mb-3 text-center"},[Object(c["createVNode"])("button",{class:"submit_btn",type:"submit"},"送出訂單")],-1),_={class:"order_detail_block"},g={class:"order"},h=Object(c["createVNode"])("h3",{class:"order_title"},"訂單內容",-1),k={class:"table_scroll_bar_container"},x={class:"order_table"},y={class:"product_title"},$={class:"product_unit"},C={class:"qty"},T={class:"unit"},L={class:"standard"},B={class:"product_total_container"},S={class:"total_coupon_container"},w={key:0,class:"coupon text-success"},D={key:0,class:"final_total"},q={class:"order_total_container"},U=Object(c["createVNode"])("span",null,"總計：",-1),F={class:"price_container"},I={key:0,class:"final_total"};Object(c["popScopeId"])();var A=o((function(e,t,a,A,M,E){var H=Object(c["resolveComponent"])("Header"),J=Object(c["resolveComponent"])("Field"),z=Object(c["resolveComponent"])("error-message"),G=Object(c["resolveComponent"])("Form"),K=Object(c["resolveComponent"])("Loading"),P=Object(c["resolveComponent"])("Footer"),Q=Object(c["resolveComponent"])("Bubble");return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[Object(c["createVNode"])(H,{"text-dark":!0}),Object(c["createVNode"])("div",l,[s,Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",d,[Object(c["createVNode"])(G,{class:"ckeckout_form",ref:"form",onSubmit:E.submit_order},{default:o((function(e){var a=e.errors;return[Object(c["createVNode"])("div",b,[i,Object(c["createVNode"])(J,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":a["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:M.form.user.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return M.form.user.name=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(z,{name:"姓名",class:"invalid-feedback"})]),Object(c["createVNode"])("div",u,[m,Object(c["createVNode"])(J,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":a["email"]}],placeholder:"請輸入Email",rules:"email|required",modelValue:M.form.user.email,"onUpdate:modelValue":t[2]||(t[2]=function(e){return M.form.user.email=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(z,{name:"email",class:"invalid-feedback"})]),Object(c["createVNode"])("div",p,[j,Object(c["createVNode"])(J,{id:"tel",name:"電話",type:"tel",class:["form-control",{"is-invalid":a["電話"]}],placeholder:"請輸入電話號碼",rules:"min:8|required",modelValue:M.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return M.form.user.tel=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(z,{name:"電話",class:"invalid-feedback"})]),Object(c["createVNode"])("div",O,[f,Object(c["createVNode"])(J,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":a["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:M.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return M.form.user.address=e})},null,8,["class","modelValue"]),Object(c["createVNode"])(z,{name:"地址",class:"invalid-feedback"})]),Object(c["createVNode"])("div",V,[N,Object(c["withDirectives"])(Object(c["createVNode"])("textarea",{type:"text",class:"form-control",id:"message",placeholder:"",row:"5","onUpdate:modelValue":t[5]||(t[5]=function(e){return M.message=e})},null,512),[[c["vModelText"],M.message]])]),v]})),_:1},8,["onSubmit"])]),Object(c["createVNode"])("div",_,[Object(c["createVNode"])("div",g,[h,Object(c["createVNode"])("div",k,[Object(c["createVNode"])("table",x,[Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(M.cartList,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e.id},[Object(c["createVNode"])("td",null,[Object(c["createVNode"])("img",{class:"thumbnail",src:e.product.imageUrl,alt:"商品圖片"},null,8,["src"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",y,Object(c["toDisplayString"])(e.product.title),1)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",$,[Object(c["createVNode"])("span",C,Object(c["toDisplayString"])(e.qty),1),Object(c["createVNode"])("span",T,Object(c["toDisplayString"])(e.product.unit),1)])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("span",L,Object(c["toDisplayString"])(e.standard),1)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("div",B,[Object(c["createVNode"])("div",S,[Object(c["createVNode"])("span",{class:[{coupon_yes:e.coupon},"total"]},"$NT "+Object(c["toDisplayString"])(e.total),3),e.coupon?(Object(c["openBlock"])(),Object(c["createBlock"])("span",w,Object(c["toDisplayString"])(100-e.coupon.percent)+"% off",1)):Object(c["createCommentVNode"])("",!0)]),e.coupon?(Object(c["openBlock"])(),Object(c["createBlock"])("div",D," $NT "+Object(c["toDisplayString"])(Math.floor(e.final_total)),1)):Object(c["createCommentVNode"])("",!0)])])])})),128))])])]),Object(c["createVNode"])("div",q,[U,Object(c["createVNode"])("div",F,[Object(c["createVNode"])("span",{class:[{coupon_yes:M.cart_info.data.total!==M.cart_info.data.final_total},"total"]},"$NT "+Object(c["toDisplayString"])(M.cart_info.data.total),3),M.cart_info.data.total!==M.cart_info.data.final_total?(Object(c["openBlock"])(),Object(c["createBlock"])("span",I,"$NT "+Object(c["toDisplayString"])(Math.floor(M.cart_info.data.final_total)),1)):Object(c["createCommentVNode"])("",!0)])])])])])]),E.loading?(Object(c["openBlock"])(),Object(c["createBlock"])(K,{key:0})):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(P),Object(c["createVNode"])(Q,{ref:"bubble",bubbleText:M.bubbleText},null,8,["bubbleText"])])})),M=(a("99af"),a("4651")),E=a("acd4"),H=a("3a5e"),J={data:function(){return{bubbleText:"",form:{user:{name:"",email:"",tel:"",address:""}},cart_info:{data:{total:0}},message:"",cartList:[]}},methods:{getCartList:function(){var e=this;e.$store.commit("startLoading",!0),e.$http.get("".concat("https://vue3-course-api.hexschool.io","/api/").concat("seanlibra","/cart")).then((function(t){t.data.success?(e.cartList=t.data.data.carts,e.cart_info=t.data,e.$store.commit("startLoading",!1)):(e.bubbleText=t.data.message,e.$refs.bubble.bubbleACtive(),e.$store.commit("startLoading",!1))})).catch((function(){e.bubbleText="連線錯誤",e.$refs.bubble.bubbleACtive(),e.$store.commit("startLoading",!1)}))},submit_order:function(){var e=this;e.$store.commit("startLoading",!0);var t={data:e.form,message:e.message};e.$http.post("".concat("https://vue3-course-api.hexschool.io","/api/").concat("seanlibra","/order"),t).then((function(t){if(t.data.success){var a=t.data.orderId;e.$router.push("/finishorder/".concat(a))}else e.bubbleText=t.data.message,e.$refs.bubble.bubbleACtive(),e.$store.commit("startLoading",!1)})).catch((function(){e.bubbleText="連線錯誤",e.$refs.bubble.bubbleACtive(),e.$store.commit("startLoading",!1)}))}},created:function(){this.getCartList()},components:{Header:M["a"],Footer:E["a"],Loading:H["a"]},computed:{loading:function(){return this.$store.state.isLoading}}};a("1b0c");J.render=A,J.__scopeId="data-v-ab8c984a";t["default"]=J}}]);
//# sourceMappingURL=chunk-66588480.9f897246.js.map